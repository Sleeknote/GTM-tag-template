___INFO___

{
  "displayName": "Sleeknote",
  "description": "Sleeknote - Engage Your Visitors with On-Site Messages",
  "securityGroups": [],
  "id": "cvt_temp_public_id",
  "type": "TAG",
  "version": 1,
  "brand": {
    "thumbnail": "data:image/png;base64,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",
    "displayName": "",
    "id": "brand_dummy"
  },
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "displayName": "User ID",
    "simpleValueType": true,
    "name": "UserID",
    "type": "TEXT"
  }
]


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://sleeknotecustomerscripts.sleeknote.com/*.js"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "sleeknoteSiteData"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

// Enter your template code here.
const injectScript = require('injectScript');
const createQueue = require('createQueue');

const userId = data.UserID;
const url = 'https://sleeknotecustomerscripts.sleeknote.com/'+userId+'.js';
createQueue('sleeknoteSiteData');

function onSuccess() {
  data.gtmOnSuccess();
}

function onFailure() {
  data.gtmOnFailure();
}

injectScript(url, onSuccess, onFailure);


___NOTES___

Created on 06/09/2019, 11:32:42
